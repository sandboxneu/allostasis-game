{"ast":null,"code":"import _classCallCheck from \"/Users/yashshetty/Desktop/Sandbox/allostasis-game/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yashshetty/Desktop/Sandbox/allostasis-game/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yashshetty/Desktop/Sandbox/allostasis-game/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yashshetty/Desktop/Sandbox/allostasis-game/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yashshetty/Desktop/Sandbox/allostasis-game/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yashshetty/Desktop/Sandbox/allostasis-game/src/AdminPanel.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Form from 'react-jsonschema-form';\nimport './AdminPanel.css';\nimport schema from './ConfigValuesSchema.json';\nvar SERVER_URL = 'https://api.sandboxneu.com/test';\n\nvar AdminPanel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AdminPanel, _Component);\n\n  function AdminPanel(props) {\n    var _this;\n\n    _classCallCheck(this, AdminPanel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AdminPanel).call(this, props));\n\n    _this.uploadToServer = function () {\n      console.log(_this.state.formData);\n      var file = new File([_this.state.textContents], 'config.json');\n      var formData = new FormData();\n      formData.append('file', file);\n      axios.post(\"\".concat(SERVER_URL, \"/experiment\"), formData).then(function (response) {\n        return console.log(response);\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    };\n\n    _this.onSubmit = function (_ref, e) {\n      var formData = _ref.formData;\n      var file = new File([JSON.stringify(formData)], 'config.json');\n      var form = new FormData();\n      form.append('file', file);\n      axios.post(\"\".concat(SERVER_URL, \"/experiment\"), form).then(function (response) {\n        return console.log(response);\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    };\n\n    _this.state = {\n      schema: schema,\n      formData: undefined\n    };\n    return _this;\n  }\n\n  _createClass(AdminPanel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(\"\".concat(SERVER_URL, \"/experiment\")).then(function (response) {\n        console.log(response.data);\n\n        _this2.setState({\n          formData: response.data\n        });\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Form, {\n        schema: this.state.schema,\n        formData: this.state.formData,\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return AdminPanel;\n}(Component);\n\nexport default AdminPanel;","map":{"version":3,"sources":["/Users/yashshetty/Desktop/Sandbox/allostasis-game/src/AdminPanel.js"],"names":["React","Component","axios","Form","schema","SERVER_URL","AdminPanel","props","uploadToServer","console","log","state","formData","file","File","textContents","FormData","append","post","then","response","catch","error","onSubmit","e","JSON","stringify","form","undefined","get","data","setState"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAO,kBAAP;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AAEA,IAAMC,UAAU,GAAG,iCAAnB;;IAEMC,U;;;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,oFAAMA,KAAN;;AADe,UAiBnBC,cAjBmB,GAiBF,YAAM;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWC,QAAvB;AACA,UAAMC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAC,MAAKH,KAAL,CAAWI,YAAZ,CAAT,EAAoC,aAApC,CAAb;AAEA,UAAMH,QAAQ,GAAG,IAAII,QAAJ,EAAjB;AACAJ,MAAAA,QAAQ,CAACK,MAAT,CAAgB,MAAhB,EAAwBJ,IAAxB;AAEAX,MAAAA,KAAK,CAACgB,IAAN,WAAcb,UAAd,kBAAuCO,QAAvC,EACKO,IADL,CACU,UAAAC,QAAQ;AAAA,eAAIX,OAAO,CAACC,GAAR,CAAYU,QAAZ,CAAJ;AAAA,OADlB,EAEKC,KAFL,CAEW,UAAAC,KAAK;AAAA,eAAIb,OAAO,CAACC,GAAR,CAAYY,KAAZ,CAAJ;AAAA,OAFhB;AAGH,KA3BkB;;AAAA,UA6BnBC,QA7BmB,GA6BR,gBAAaC,CAAb,EAAmB;AAAA,UAAjBZ,QAAiB,QAAjBA,QAAiB;AAC1B,UAAMC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACW,IAAI,CAACC,SAAL,CAAed,QAAf,CAAD,CAAT,EAAqC,aAArC,CAAb;AAEA,UAAMe,IAAI,GAAG,IAAIX,QAAJ,EAAb;AACAW,MAAAA,IAAI,CAACV,MAAL,CAAY,MAAZ,EAAoBJ,IAApB;AACAX,MAAAA,KAAK,CAACgB,IAAN,WAAcb,UAAd,kBAAuCsB,IAAvC,EACKR,IADL,CACU,UAAAC,QAAQ;AAAA,eAAIX,OAAO,CAACC,GAAR,CAAYU,QAAZ,CAAJ;AAAA,OADlB,EAEKC,KAFL,CAEW,UAAAC,KAAK;AAAA,eAAIb,OAAO,CAACC,GAAR,CAAYY,KAAZ,CAAJ;AAAA,OAFhB;AAGH,KArCkB;;AAEf,UAAKX,KAAL,GAAa;AACTP,MAAAA,MAAM,EAANA,MADS;AAETQ,MAAAA,QAAQ,EAAEgB;AAFD,KAAb;AAFe;AAMlB;;;;wCAEmB;AAAA;;AAChB1B,MAAAA,KAAK,CAAC2B,GAAN,WAAaxB,UAAb,kBACKc,IADL,CACU,UAAAC,QAAQ,EAAI;AACdX,QAAAA,OAAO,CAACC,GAAR,CAAYU,QAAQ,CAACU,IAArB;;AACA,QAAA,MAAI,CAACC,QAAL,CAAc;AAACnB,UAAAA,QAAQ,EAAEQ,QAAQ,CAACU;AAApB,SAAd;AACH,OAJL,EAKKT,KALL,CAKW,UAAAC,KAAK;AAAA,eAAIb,OAAO,CAACC,GAAR,CAAYY,KAAZ,CAAJ;AAAA,OALhB;AAMH;;;6BAwBQ;AACL,aACI,oBAAC,IAAD;AAAM,QAAA,MAAM,EAAE,KAAKX,KAAL,CAAWP,MAAzB;AACI,QAAA,QAAQ,EAAE,KAAKO,KAAL,CAAWC,QADzB;AAEI,QAAA,QAAQ,EAAE,KAAKW,QAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAKH;;;;EA9CoBtB,S;;AAiDzB,eAAeK,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Form from 'react-jsonschema-form';\nimport './AdminPanel.css';\nimport schema from './ConfigValuesSchema.json';\n\nconst SERVER_URL = 'https://api.sandboxneu.com/test';\n\nclass AdminPanel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            schema,\n            formData: undefined\n        };\n    }\n\n    componentDidMount() {\n        axios.get(`${SERVER_URL}/experiment`)\n            .then(response => {\n                console.log(response.data);\n                this.setState({formData: response.data});\n            })\n            .catch(error => console.log(error));\n    }\n\n    uploadToServer = () => {\n        console.log(this.state.formData);\n        const file = new File([this.state.textContents], 'config.json');\n\n        const formData = new FormData();\n        formData.append('file', file);\n\n        axios.post(`${SERVER_URL}/experiment`, formData)\n            .then(response => console.log(response))\n            .catch(error => console.log(error));\n    }\n\n    onSubmit = ({formData}, e) => {\n        const file = new File([JSON.stringify(formData)], 'config.json');\n\n        const form = new FormData();\n        form.append('file', file);\n        axios.post(`${SERVER_URL}/experiment`, form)\n            .then(response => console.log(response))\n            .catch(error => console.log(error));\n    }\n\n    render() {\n        return (\n            <Form schema={this.state.schema}\n                formData={this.state.formData}\n                onSubmit={this.onSubmit} />\n        );\n    }\n}\n\nexport default AdminPanel;\n"]},"metadata":{},"sourceType":"module"}